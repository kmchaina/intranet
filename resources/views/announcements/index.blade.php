@extends('layouts.dashboard') @section('title', 'Announcements') @section('page-title', 'Announcements') @section('page-subtitle', 'Stay updated with the latest news from NIMR') @section('content') <div class="bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-100/40 min-h-screen"> <div class="max-w-7xl mx-auto p-6"> <!-- Header Section --> <div class="bg-white rounded-xl shadow-sm border border-gray-200 mb-6"> <div class="bg-gradient-to-br from-blue-600 to-indigo-700 p-6 rounded-t-xl"> <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between"> <div class="flex items-center space-x-4"> <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm"> <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" /> </svg> </div> <div> <h1 class="text-2xl font-bold text-white">Announcements</h1> <p class="text-blue-100 mt-1">Stay updated with the latest news from NIMR</p> </div> </div> @if (auth()->user()->canCreateAnnouncements()) <div class="mt-4 lg:mt-0"> <a href="{{ route('announcements.create') }}" class="inline-flex items-center px-4 py-2 bg-white/20 hover:bg-white/30 text-white font-medium rounded-lg backdrop-blur-sm transition-all duration-200"> <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /> </svg> Create Announcement </a> </div> @endif </div> </div> </div> <!-- Announcements List --> <div class="bg-white rounded-xl shadow-sm border border-gray-200"> <div class="p-6 border-b border-gray-200"> <div class="flex items-center justify-between"> <h2 class="text-lg font-semibold text-gray-900">Latest Announcements</h2> <span class="text-sm text-gray-500">{{ $announcements->total() }} announcement(s) found</span> </div> </div> <div id="announcementsList" class="divide-y divide-gray-100"> @forelse($announcements as $announcement) <div class="announcement-item p-6 hover:bg-gray-50 transition-colors duration-200 border-l-4 @if ($announcement->priority === 'high') border-l-red-500 bg-red-50/30 @elseif($announcement->priority === 'medium') border-l-yellow-500 bg-yellow-50/30 @else border-l-green-500 bg-green-50/30 @endif" data-title="{{ strtolower($announcement->title) }}" data-category="{{ $announcement->category }}" data-priority="{{ $announcement->priority }}"> <div class="flex items-start space-x-4"> <!-- Priority & Read Status Indicator --> <div class="flex-shrink-0 flex items-center space-x-3"> <!-- Priority Icon --> <div class="w-12 h-12 rounded-xl flex items-center justify-center shadow-sm @if ($announcement->priority === 'high') bg-red-500 text-white @elseif($announcement->priority === 'medium') bg-yellow-500 text-white @else bg-green-500 text-white @endif"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"> @if ($announcement->priority === 'high') <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" /> @elseif($announcement->priority === 'medium') <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /> @else <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /> @endif </svg> </div> <!-- Unread Indicator --> @if (!$announcement->isReadBy(auth()->user())) <div class="w-4 h-4 bg-blue-600 rounded-full animate-pulse"></div> @endif </div> <!-- Content Area --> <div class="flex-1 min-w-0"> <!-- Header Row --> <div class="flex items-start justify-between mb-3"> <div class="flex-1"> <div class="flex items-center space-x-3 mb-2"> <h3 class="text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors duration-200"> <a href="{{ route('announcements.show', $announcement) }}" class="block"> {{ $announcement->title }} </a> </h3> <!-- Priority Badge --> <span class="inline-flex px-2 py-1 text-xs font-bold uppercase tracking-wide rounded-full @if ($announcement->priority === 'high') bg-red-500 text-white @elseif($announcement->priority === 'medium') bg-yellow-500 text-white @else bg-green-500 text-white @endif"> {{ $announcement->priority }} </span> </div> <!-- Meta Info --> <div class="flex items-center space-x-3 text-sm text-gray-600 mb-3"> <span class="font-medium">{{ $announcement->creator->name }}</span> <span>•</span> <span>{{ $announcement->published_at->format('M j, Y') }}</span> <span>•</span> <span class="capitalize">{{ str_replace('_', ' ', $announcement->target_scope) }}</span> @if ($announcement->attachments->count() > 0) <span>•</span> <span class="flex items-center"> <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" /> </svg> {{ $announcement->attachments->count() }} file(s) </span> @endif </div> </div> <!-- Category Badge --> <div class="flex-shrink-0 ml-4"> <span class="inline-flex px-3 py-1 text-xs font-medium rounded-lg @if ($announcement->category === 'urgent') bg-red-100 text-red-800 @elseif($announcement->category === 'event') bg-blue-100 text-blue-800 @elseif($announcement->category === 'policy') bg-purple-100 text-purple-800 @elseif($announcement->category === 'training') bg-indigo-100 text-indigo-800 @else bg-gray-100 text-gray-800 @endif"> {{ ucfirst($announcement->category) }} </span> </div> </div> <!-- Content Preview --> <p class="text-gray-700 text-sm leading-relaxed mb-4"> {{ Str::limit(strip_tags($announcement->content), 150) }} </p> <!-- Attachments Preview --> @if ($announcement->attachments->count() > 0) <div class="flex items-center flex-wrap gap-2 mb-4"> @foreach ($announcement->attachments->take(3) as $attachment) <div class="flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-1 text-xs border border-gray-200"> <svg class="w-3 h-3 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /> </svg> <span class="text-gray-600 font-medium">{{ Str::limit($attachment->original_name, 15) }}</span> </div> @endforeach @if ($announcement->attachments->count() > 3) <span class="text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-lg">+{{ $announcement->attachments->count() - 3 }} more</span> @endif </div> @endif <!-- Action Buttons --> <div class="flex items-center justify-between"> <div class="flex items-center space-x-4"> <a href="{{ route('announcements.show', $announcement) }}" class="inline-flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors duration-200"> Read More <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/> </svg> </a> @if (auth()->user()->canManageAnnouncement($announcement)) <a href="{{ route('announcements.edit', $announcement) }}" class="text-gray-500 hover:text-gray-700 text-sm font-medium transition-colors duration-200"> Edit </a> @endif </div> <!-- Time Ago --> <span class="text-xs text-gray-400"> {{ $announcement->published_at->diffForHumans() }} </span> </div> </div> </div> </div> @empty <div class="p-12 text-center"> <div class="w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-xl flex items-center justify-center"> <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" /> </svg> </div> <h3 class="text-lg font-semibold text-gray-900 mb-2">No announcements found</h3> <p class="text-gray-500 mb-6">There are no announcements matching your current filters.</p> @if (auth()->user()->canCreateAnnouncements()) <a href="{{ route('announcements.create') }}" class="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200"> <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /> </svg> Create First Announcement </a> @endif </div> @endforelse </div> <!-- Pagination --> @if ($announcements->hasPages()) <div class="px-6 py-4 border-t border-gray-200"> {{ $announcements->links() }} </div> @endif </div> </div> </div> @endsection 
